---
jenkins:
  numExecutors: 6

  remotingSecurity:
    enabled: true

  globalNodeProperties:
    - envVars:
        env:
          - key: "ENV1"
            value: "VALUE1"

  authorizationStrategy:
    globalMatrix:
      permissions:
        - "Overall/Administer:admin"

  # JNLP port for remote agents
  slaveAgentPort: 50000
  agentProtocols:
    - "JNLP4-connect"

security:
  globalJobDslSecurityConfiguration:
    useScriptSecurity: false
  sSHD:
    port: 6666

unclassified:
  gitHubConfiguration:
    apiRateLimitChecker: ThrottleOnOver
  jobNodesOnDemandConfiguration:
    enabled: true
    revision: "fr123k/docker_agents_on_demand"
    gitUrl: "https://github.com/fr123k/jocker-agents"
    gitRevision: "fr/add_maven_docker_build_agent"
    excludeLabels: docker
    agentProvisionJob: "jenkins/DockerAgentBootstrap"
    agentDecomissionJob: "jenkins/DockerAgentDestroy"
    agentImage: "fr123k/jocker-agents-{label}"
    agentWorkDir: "/home/jenkins"
  globalDefaultFlowDurabilityLevel:
    durabilityHint: "PERFORMANCE_OPTIMIZED"
  prioritySorterConfiguration:
    strategy:
      absoluteStrategy:
        defaultPriority:3
        numberOfPriorities:5
  priorityConfiguration:
    jobGroups:
      - id: 0
        priority: 1
        description: "Jenkins"
        runExclusive: false
        usePriorityStrategies: false
        # jobGroupStrategy:
        #   folderBased:
        #     folderName: "Jenkins"
        # useJobFilter: false
        # jobPattern: ".*"

# unclassified:
#   globalLibraries:
#     libraries:
#       - name: "shared-lib"
#         defaultVersion: "master"
#         implicit: true
#         includeInChangesets: false
#         retriever:
#           modernSCM:
#             scm:
#               git:
#                 remote: "git@github.com:fr123k/jenkins-shared-library"
#                 credentialsId: "deploy-key-shared-library"
